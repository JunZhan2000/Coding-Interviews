### 平衡二叉树

***

当二叉树以不同的方式插入节点，树的高度和查找效率都有所不同



#### 一、什么是平衡二叉树

**1.1** **平衡因子**

平衡因子（Balance Factar，简称BF）：BF(T) = h~L~ - h~R~

其中 h~L~ 和 h~R~ 为左右子树的高度



##### 1.2 平衡二叉树的定义

**平衡二叉树**（Balanced Binary Tree）(AVL树)：

​	空树，或者

​	任一节点的左右子树高度差不大于1，即|BF(T)| <= 1



##### 1.3 平衡二叉树的高度

设一高度为h的平衡二叉树最少需要 n~h~ 个节点

n~h~ = n~h-1~ + n~h-2~ + 1

n~0~ = 1, n~1~ = 2

有斐波那契数列可得 n~h~ 是h的指数函数

故 h = O(log n)，即一颗平衡二叉树的高度最大不会超过 log n级别



#### 二、平衡二叉树的调整

在插入节点时，进行一些调整以维持AVL树，注意要保持查找树的性质

##### 2.1 RR旋转

<img src="https://upload-images.jianshu.io/upload_images/16341130-e8a0eadd89b79b44.jpg?imageMogr2/auto-orient/strip|imageView2/2/w/1200" alt="img" style="zoom: 50%;" />

##### 2.2 LL旋转 

<img src="https://upload-images.jianshu.io/upload_images/16341130-d62d49d0d9b7af74.jpg?imageMogr2/auto-orient/strip|imageView2/2/w/1200" alt="img" style="zoom: 50%;" />

##### 2.3 LR旋转

<img src="https://upload-images.jianshu.io/upload_images/16341130-7419d372f9c01b1b.jpg?imageMogr2/auto-orient/strip|imageView2/2/w/1200" alt="img" style="zoom:50%;" />

##### 2.4 RL旋转 

<img src="https://upload-images.jianshu.io/upload_images/16341130-446f90cbac460ae8.jpg?imageMogr2/auto-orient/strip|imageView2/2/w/1200" alt="img" style="zoom:50%;" />